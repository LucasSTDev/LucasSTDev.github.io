<!DOCTYPE html>
<html lang="pt">
<head>
    <meta charset="UTF-8">
    <title>Baixar e Compartilhar Formulário</title>
    <script>
        function gerarJSON(event) {
            event.preventDefault(); // Impede o envio padrão do formulário
            
            var form = document.getElementById("meuFormulario");
            var dadosFormulario = new FormData(form);
            var json = {};

            // Converte FormData para JSON
            dadosFormulario.forEach((valor, chave) => {
                json[chave] = valor;
            });

            // Converte o JSON para uma string e cria um Blob
            var jsonString = JSON.stringify(json, null, 2);
            var blob = new Blob([jsonString], { type: 'application/json' });

            // Cria um link para baixar o arquivo
            var link = document.createElement("a");
            link.href = window.URL.createObjectURL(blob);
            link.download = "formulario.json";
            link.click(); // Aciona o clique para iniciar o download

            // Cria um link para compartilhar no WhatsApp
            var mensagem = encodeURIComponent("Confira o formulário que acabei de baixar.");
            var whatsappLink = "https://api.whatsapp.com/send?text=" + mensagem;

            // Exibe um link para compartilhar no WhatsApp
            var whatsappAnchor = document.getElementById("whatsappLink");
            whatsappAnchor.href = whatsappLink;
            whatsappAnchor.style.display = "block"; // Mostra o link
        }
    </script>
</head>
<body>
    <h1>Baixar e Compartilhar Formulário</h1>
    <form id="meuFormulario" onsubmit="gerarJSON(event)">

			<h2>Tipo:</h2>
        <input type="radio" id="item1" name="tipo" value="Municipal">
        <label for="item1">Municipal</label><br>
        <input type="radio" id="item2" name="tipo" value="Intermunicipal">
        <label for="item2">Intermunicipal</label><br>
        <input type="radio" id="item3" name="tipo" value="Interestadual">
        <label for="item3">Interestadual</label><br>

				</hr>

			<h2>Solicitação:</h2>
        <input type="radio" id="xxxx" name="Solicitacao" value="CMA (Araxa)">
        <label for="xxxx">CMA (Araxa)</label><br>

        <input type="radio" id="xxxx" name="Solicitacao" value="CMT (Tapira)">
        <label for="xxxx">CMT (Tapira)</label><br>
 
				<input type="radio" id="xxxx" name="Solicitacao" value="CMP (Patrocinio)">
        <label for="xxxx">CMP (Patrocinio)</label><br>
 
			<h2>Data:</h2>
				<label for="campoDataHora">Data e Hora:</label>
        <input type="date" id="campoDataHora" name="campoDataHora"><br><br>

			<h2>Centro de custo:</h2>
			 <!-- Campo para valor monetário -->
        <label for="campoDinheiro">Valor (R$):</label>
        <input type="text" id="campoDinheiro" name="campoDinheiro"><br><br>

			<h2>Solicitante:</h2>
        <!-- Campo para nome -->
        <label for="campoNome">Nome:</label>
        <input type="text" id="campoNome" name="campoNome"><br><br>

			<h2>Descrição do transporte/ itinerário realizado:</h2>
        <label for="campoTexto"></label><br>
        <textarea id="campoTexto" name="campoTexto" rows="5" cols="30"></textarea><br><br>


			<h2>Nome dos empregados e/ou pessoas Transportadas:</h2>
        <label for="campopesso"></label><br>
				<textarea id="campopesso<a></a>" name="campopessoa" rows="5" cols="30"></textarea><br><br>


        <input type="submit" value="Criar solicitação">
    </form>

</body>
</html>



